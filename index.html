<html>

<head>
    <title>My first three.js app</title>
</head>

<body>
    <link rel='stylesheet' href="main.css">
    <script src="js/three.js"></script>
    <script src="js/SphereGeometry.js"></script>
    <script src="js/OrbitControls.js"></script>
    <div id='world'>
        <div id='left'></div>
    </div>

    <script>

    var camera, controls, scene, renderer;
    var container;
    init();
    animate();

      function init() {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
        controls;
        controls = new THREE.OrbitControls( camera);
        controls.addEventListener( 'change', render );

        container = document.getElementById('world');
        HEIGHT = container.height;
        WIDTH = container.width;

        var light = new THREE.AmbientLight(0xffffff, 0.8);
        scene.add(light);

        var light1 = new THREE.PointLight(0xffffff, 1, 5000);
        light1.position.set(100, 50, 50);
        scene.add(light1);

        renderer = new THREE.WebGLRenderer({
            alpha: true,
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMapEnabled = true;
        document.body.appendChild(container);
        container.appendChild(renderer.domElement);

        camera.position.z = 20;
        //-3, -1.2, 0
        var CreateGroup = function(x, y, z) {
            var atom = CreateSphere(x, y, z);
            var atom2 = CreateSphere(x, y + 4.2, z);
            var atom3 = CreateSphere(x - 4, y - 1.5, z);
            var atom4 = CreateSphere(x - 4, y + 6, z);
            var atom5 = CreateSphere(x - 6.6, y + 2.3, z);

            //leftmost two
            var atom6 = CreateSphere(x - 9.2, y + 2.8, z + 3.2, 0.8, 6, 6);
            var atom7 = CreateSphere(x - 9, y + 2.8, z - 3.2, 0.8, 6, 6);

            var atom8 = CreateSphere(x + 3.8, y + 6.2, z);
            var atom9 = CreateSphere(x + 3.8, y - 1.8, z);
            var atom10 = CreateSphere(x + 3.8, y + 10.2, z, 0.8, 6, 6);
            var atom11 = CreateSphere(x + 3.8, y - 5.8, z, 0.8, 6, 6);
            var atom12 = CreateSphere(x + 7.8, y + 4.7, z);
            var atom13 = CreateSphere(x + 7.8, y, z);
            var atom14 = CreateSphere(x + 11.4, y + 6, z);
            var atom15 = CreateSphere(x + 10.4, y - 1.8, z, 0.8, 6, 6);

            //third hexagon top
            var atom16 = CreateSphere(x + 11.3, y + 8.8, z + 2.7, 0.8, 6, 6);
            var atom17 = CreateSphere(x + 11.3, y + 8.8, z - 2.7, 0.8, 6, 6);

            var atom18 = CreateSphere(x + 18.3, y + 6, z);
            var atom19 = CreateSphere(x + 15, y + 3.5, z);

            var atom20 = CreateSphere(x + 15, y + 2, z - 3, 0.8, 6, 6);

            var atom21 = CreateSphere(x + 18.3, y + 8.8, z - 2.7, 0.8, 6, 6);
            var atom23 = CreateSphere(x + 15, y + 2, z + 3);

            //bottom, closest three
            var atom27 = CreateSphere(x + 15, y + 4.3, z + 5.5, 0.8, 6, 6);
            var atom28 = CreateSphere(x + 12.5, y + 0.5, z + 5.5, 0.8, 6, 6);
            var atom29 = CreateSphere(x + 17.5, y + 0.5, z + 5.5, 0.8, 6, 6);

            //righmost four
            var atom22 = CreateSphere(x + 22.3, y + 3.6, z);
            var atom24 = CreateSphere(x + 24, y + 1.8, z + 3, 0.8, 6, 6);
            var atom25 = CreateSphere(x + 24.5, y + 6.2, z, 0.8, 6, 6);
            var atom26 = CreateSphere(x + 24.5, y + 1.8, z - 3, 0.8, 6, 6);


            //-3, -1.2, 0
            var Cylinder1 = CreateCylinder(x - 2.1, y - 0.8, z, 4, 2, 45, 0.3, 0.3);
            var Cylinder3 = CreateCylinder(x - 1.55, y + 5.4, z, -4, 1.2, 45, 0.3, 0.3);
            var Cylinder4 = CreateCylinder(x - 5.5, y + 4.2, z, 2.7, 4, 200, 0.3, 0.3);
            var Cylinder5 = CreateCylinder(x - 5.5, y + 0.3, z, -0.8, 1, 20, 0.3, 0.3);

            //leftmost two
            var Cylinder6 = CreateCylinder(x - 8, y + 2.5, z + 2, -1.5, 0.2, -1);
            var Cylinder7 = CreateCylinder(x - 8, y + 2.5, z - 2, -1.5, 0.2, 1);

            var Cylinder8 = CreateCylinder(x + 2.1, y - 0.9, z, -1.5, 1, 20, 0.3, 0.3);
            var Cylinder9 = CreateCylinder(x + 2.03, y + 5.4, z, 1.5, 1, 20, 0.3, 0.3);
            var Cylinder12 = CreateCylinder(x + 6.1, y + 5.9, z, -4, 2, 45);
            var Cylinder13 = CreateCylinder(x + 6.2, y + 5.4, z, -4, 2, 45);
            var Cylinder15 = CreateCylinder(x + 6, y - 0.8, z, 4, 2, 45, 0.3, 0.3);
            var Cylinder16 = CreateCylinder(x + 8.8, y - 0.8, z, -1.5, 1, 20, 0.3, 0.3);
            var Cylinder17 = CreateCylinder(x + 9.8, y + 5.5, z, 1.5, 1, 20, 0.3, 0.3);

            //third hexagon top
            var Cylinder18 = CreateCylinder(x + 11.5, y + 7.7, z + 1.5, 0, 0.5, -0.5);
            var Cylinder19 = CreateCylinder(x + 11.5, y + 8, z - 1.5, 0, 0.5, 0.5);

            var Cylinder20 = CreateCylinder(x + 13.5, y + 5.2, z, -3, 2, 45, 0.3, 0.3);

            var Cylinder22 = CreateCylinder(x + 15, y + 2.7, z - 2, 0, -0.1, 0.05, 0.3);

            //right top
            var Cylinder23 = CreateCylinder(x + 18.3, y + 7.2, z - 1.2, 0, 0.5, 0.5);
            var Cylinder32 = CreateCylinder(x + 16.3, y + 5.2, z + 0.5, -0.4, -0.3, -10, 0.3, 0.3);

            var Cylinder25 = CreateCylinder(x + 15, y + 2.7, z + 2, 0, -0.1, -0.05, 0.3, 0.3);

            //bottom three
            var Cylinder29 = CreateCylinder(x + 15, y + 3.2, z + 4.5, 0, 0.4, -0.5);
            var Cylinder30 = CreateCylinder(x + 16.5, y + 1.2, z + 4.5, -0.5, 0.3, 1);
            var Cylinder31 = CreateCylinder(x + 13.5, y + 1.2, z + 4.5, 0.5, 0.3, 1);

            //rightmost four
            var Cylinder24 = CreateCylinder(x + 20.3, y + 4.6, z, -0.4, 0.3, 10, 0.3, 0.3);
            var Cylinder26 = CreateCylinder(x + 23.3, y + 2.8, z + 1.6, -0.5, 0.5, 0.5);
            var Cylinder27 = CreateCylinder(x + 23.5, y + 4.7, z, 1.2, 1.5, 20);
            var Cylinder28 = CreateCylinder(x + 23.5, y + 3, z - 1.5, -0.5, 0.5, -0.5);

            var geometry1 = new THREE.CylinderGeometry(0.15, 0.2, 3, 3);
            var geometry3 = new THREE.CylinderGeometry(0.15, 0.2, 2, 3);
            var geometry2 = new THREE.CylinderGeometry(0.3, 0.3, 3.1, 3);
            var material = new THREE.MeshLambertMaterial({
                color: 0xFFFF01,
            });
            var Cylinder = new THREE.Mesh(geometry1, material);
            var Cylinder2 = new THREE.Mesh(geometry1, material);
            var Cylinder10 = new THREE.Mesh(geometry1, material);
            var Cylinder11 = new THREE.Mesh(geometry1, material);
            var Cylinder14 = new THREE.Mesh(geometry2, material);
            var Cylinder21 = new THREE.Mesh(geometry2, material);
            Cylinder.position.set(x - 0.3, y + 2.2, z);
            Cylinder2.position.set(x + 0.3, y + 2.2, z);
            Cylinder10.position.set(x + 3.8, y + 8.2, z);
            Cylinder11.position.set(x + 3.8, y - 3.8, z);
            Cylinder14.position.set(x + 7.8, y + 2.2, z);
            Cylinder21.position.set(x + 15, y + 2.2, z);

            var group = new THREE.Group();
            group.add(atom);
            group.add(atom2);
            group.add(atom3);
            group.add(atom4);
            group.add(atom5);

            //leftmost two
            group.add(atom6);
            group.add(atom7);

            group.add(atom9);
            group.add(atom8);
            group.add(atom10);
            group.add(atom11);
            group.add(atom12);
            group.add(atom13);
            group.add(atom14);
            group.add(atom15);

            //third hexagon top
            group.add(atom16);
            group.add(atom17);

            group.add(atom18); //right top c 20
            group.add(atom19);

            group.add(atom20); // c 22 || a 23

            group.add(atom21); //right top c 23

            group.add(atom23); // c 25 || a 20

            //bottom, closest three
            group.add(atom27) // c 29
            group.add(atom28) // c 31
            group.add(atom29) // c 30

            //rightmost four
            group.add(atom22);
            group.add(atom24); // c 26
            group.add(atom25);
            group.add(atom26);

            group.add(Cylinder);
            group.add(Cylinder1);
            group.add(Cylinder2);
            group.add(Cylinder3);
            group.add(Cylinder4);
            group.add(Cylinder8);
            group.add(Cylinder9);
            group.add(Cylinder5);

            //leftmost two
            group.add(Cylinder6);
            group.add(Cylinder7);

            group.add(Cylinder10);
            group.add(Cylinder11);
            group.add(Cylinder12);
            group.add(Cylinder13);
            group.add(Cylinder14);
            group.add(Cylinder15);
            group.add(Cylinder16);
            group.add(Cylinder17);

            //third hexagon top
            group.add(Cylinder18);
            group.add(Cylinder19);

            group.add(Cylinder20);
            // group.add(Cylinder21);//dont use
            group.add(Cylinder22); // a 20 || c 25

            group.add(Cylinder23); // a 21
            group.add(Cylinder32); // a 18

            group.add(Cylinder25); // a 23 || c 22

            //bottom, closest three
            group.add(Cylinder29); // a 27
            group.add(Cylinder30); // a 29
            group.add(Cylinder31); // a 28

            //rightmost four
            group.add(Cylinder24);
            group.add(Cylinder26); // a 24
            group.add(Cylinder27);
            group.add(Cylinder28);

            return group;
        }

        // var group1 = CreateGroup(0, 0, 0);
        // scene.add(group1);

        var group2 = CreateGroup(-10, 0, 0);
        scene.add(group2);

      }

      function CreateSphere(x, y, z, n = 1.2, k = 8, j = 8) {
          var neheTexture = new THREE.ImageUtils.loadTexture("images.png");
          var geometry = new THREE.SphereGeometry(n, k, j);
          var material = new THREE.MeshLambertMaterial({
              //color: 0xFFFF01
              map: neheTexture,
              //side:THREE.DoubleSide
          });
          neheTexture.offset.x = Math.random(); // 0.0 - 1.0
          neheTexture.offset.y = 0;
          //            neheTexture.repeat.set(1, 2);
          //            neheTexture.wrapS = THREE.RepeatWrapping;
          //            neheTexture.wrapT = THREE.RepeatWrapping;
          var sphere = new THREE.Mesh(geometry, material);
          sphere.position.set(x, y, z);
          return sphere;
      }

      function CreateCylinder(x, y, z, vx, vy, vz, n = 0.15, k = 0.2) {
          var geometry1 = new THREE.CylinderGeometry(n, k, 3, 3);
          var material = new THREE.MeshLambertMaterial({
              color: 0xFFFF01
          });
          var Cylinder1 = new THREE.Mesh(geometry1, material);
          Cylinder1.position.set(x, y, z);
          var vector = new THREE.Vector3(vx, vy, vz);

          var focalPoint = new THREE.Vector3(
              Cylinder1.position.x + vector.x,
              Cylinder1.position.y + vector.y,
              Cylinder1.position.z + vector.z
          );
          Cylinder1.up = new THREE.Vector3(0, 0, 1); //Z axis up
          Cylinder1.lookAt(focalPoint);

          return Cylinder1;
      }

      function animate() {

        requestAnimationFrame( animate );
        controls.update();

      }

      function render() {
        renderer.render( scene, camera );
      }

    </script>
</body>

</html>
